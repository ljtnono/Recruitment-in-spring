

## Centos7网卡配置

```bash
cd /etc/sysconfig/network-scripts
# 在此目录下找到一个具有如下内容的文件 一般为 ifcfg-ens33 其中 ens33为网卡名
TYPE=Ethernet
PROXY_METHOD=none
BROWSER_ONLY=no
#BOOTPROTO=dhcp
DEFROUTE=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_FAILURE_FATAL=no
#IPV6_ADDR_GEN_MODE=stable-privacy
NAME=ens33
UUID=c656103e-e2e0-4d49-914f-00b7cbab9568
DEVICE=ens33
ONBOOT=yes
# 网络配置
BOOTPROTO=static # 静态ip
IPADDR=192.168.172.107 # ip地址
NETMASK=255.255.255.0 # 子网掩码
GATEWAY=192.168.172.1 # 网关
DNS1=8.8.8.8 # DNS
DNS2=192.168.172.1 # DNS
ZONE=public
```

```bash
systemctl restart network
```


## firewall 相关操作

### 永久开启某个端口

```shell
firewall-cmd --zone=public --add-port=27017/tcp --permanent
```

### 永久关闭某个端口

```shell
firewall-cmd --remove-port=80/tcp --permanent
```

### 查看已开放的端口号

```shell
firewall-cmd --list-ports
```

### 重新加载防火墙

```shell
firewall-cmd --reload
```



## Centos7 配置yum为阿里源

1、备份原.repo文件

```bash
mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
```

2、下载新的.repo文件

```bash
CentOS 6
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo
curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo

CentOS 7
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo
curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo    

CentOS 8
wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-8.repo
curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-8.repo
```

3、重构缓存

```bash
yum clean all
yum makecache
```

4、执行更新

```bash
yum update
```



